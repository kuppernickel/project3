<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BoardDAO">

	<resultMap id="boardResult" type="board">
        <id property="seq" column="seq" />
        <result property="title" column="title" />
        <result property="writer" column="writer" />
        <result property="content" column="content" />
        <result property="fileName" column="fileName" />
        <result property="fileSize" column="fileSize" />
        <result property="writeDate" column="writeDate" />
        <result property="updateDate" column="updateDate" />
	</resultMap>


	<!-- Notice테이블 SQL문 -->
	<insert id="insertNoticeBoard" parameterType="board">
		<![CDATA[
		INSERT INTO notice(title, writer, content, fileName, fileSize)
		VALUES(#{title}, #{writer}, #{content}, ${fileName}, #{fileSize})
		]]>
	</insert>
	
	<!-- 파일은 수정하지 못하도록 할 예정 
		수정 날짜는 트리거를 활용할 예정 -->
	<update id="updateNoticeBoard">
		<![CDATA[
		UPDATE notice SET
		title = #{title},
		content = #{content},
		WHERE seq = #{seq}
		]]>
	</update>

	<delete id="deleteNoticeBoard">
		<![CDATA[
		DELETE notice
		WHERE seq = #{seq}
		]]>
	</delete>

	<select id="getNoticeBoard" resultType="board">
		<![CDATA[
		SELECT *
		FROM notice
		WHERE seq = #{seq}
		]]>
	</select>

	<select id="getNoticeBoardList" resultMap="boardResult">
		<![CDATA[
		SELECT *
		FROM notice
		ORDER BY SEQ DESC
		]]>
	</select>
	
	
	<!-- task테이블 SQL문 -->
	<insert id="insertNoticeBoard" parameterType="board">
		<![CDATA[
		INSERT INTO task(title, writer, content, fileName, fileSize)
		VALUES(#{title}, #{writer}, #{content}, ${fileName}, #{fileSize})
		]]>
	</insert>
	
	<!-- 파일은 수정하지 못하도록 할 예정 -->
	<update id="updateNoticeBoard">
		<![CDATA[
		UPDATE task SET
		title = #{title},
		content = #{content},
		WHERE seq = #{seq}
		]]>
	</update>

	<delete id="deleteNoticeBoard">
		<![CDATA[
		DELETE task
		WHERE seq = #{seq}
		]]>
	</delete>

	<select id="getNoticeBoard" resultType="board">
		<![CDATA[
		SELECT *
		FROM task
		WHERE seq = #{seq}
		]]>
	</select>

	<select id="getNoticeBoardList" resultMap="boardResult">
		<![CDATA[
		SELECT *
		FROM Task
		ORDER BY SEQ DESC
		]]>
	</select>

</mapper>