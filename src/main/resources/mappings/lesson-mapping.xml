<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="LessonDAO">

	<resultMap id="lessonResult" type="lesson">
		<id property="subjectCode" column="subjectCode" />
		<id property="professor" column="professor" />
		<id property="lessonName" column="lessonName" />
		<id property="grades" column="grades" />
		<id property="people" column="people" />
		<id property="location" column="location" />
		<id property="schedule" column="schedule" />
		<id property="userId" column="userId" />
		<id property="hour" column="hour" />
		<id property="attendence" column="attendence" />
		<id property="etc" column="etc" />
		<id property="rateTestScore1" column="rateTestScore1" />
		<id property="rateTestScore2" column="rateTestScore2" />
		<id property="rateAttendence" column="rateAttendence" />
		<id property="rateAssignment" column="rateAssignment" />
		<id property="lessonContent" column="lessonContent" />
		<id property="testScore1" column="testScore1" />
		<id property="testScore2" column="testScore2" />
		
	</resultMap>
	
	<!-- 강의 추가하기 -->
	<insert id="insertLesson" parameterType="lesson">
		<![CDATA[
		insert into good_lesson
		(professor, lessonName, subjectCode, grades, people, location, schedule)
		values(#{professor}, #{lessonname}, #{subjectCode}, #{grades}, #{people}, #{location}, #{schedule})
		]]>
	</insert>

	<!-- 강의 리스트보기 -->
	<select id="getLessonList" resultMap="lessonResult">
	<![CDATA[
		SELECT * FROM subject ORDER BY subjectCode
		]]>
	</select>

	<!-- 강의 불러오기 상세페이지 -->
	<select id="getLesson" resultType="lesson">
		<![CDATA[
			SELECT * FROM subject where subjectCode = #{subjectCode}
		]]>	
	</select>
	
	<!-- 강의삭제 -->
	<delete id="deleteLesson" parameterType="lesson">
	<![CDATA[
		DELETE subject WHERE subjectCode = #{subjectCode}
	]]>
	</delete>

	<update id="updateLesson" parameterType="Lesson">
		<![CDATA[
			UPDATE subject SET 
			lessonname = #{lessonName}
			lessoncontent = #{lessonContent}
			lessoncode = #{lessonContent}
		]]>
	</update>

</mapper>